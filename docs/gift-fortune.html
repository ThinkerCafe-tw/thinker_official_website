<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI ç™¼è²¡æç¤ºè©ç¦®åŒ… | ThinkerCafe</title>
    <meta name="robots" content="noindex, nofollow">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans TC', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        .card {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            margin-bottom: 20px;
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        h2 {
            font-size: 1.8em;
            margin-bottom: 15px;
            color: #667eea;
        }

        .subtitle {
            font-size: 1.2em;
            color: #666;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .hidden {
            display: none !important;
        }

        /* é©—è­‰é é¢ */
        .verify-box {
            text-align: center;
        }

        .verify-box input {
            width: 100%;
            padding: 15px;
            font-size: 1.2em;
            border: 2px solid #ddd;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
            letter-spacing: 3px;
        }

        .verify-box input:focus {
            outline: none;
            border-color: #667eea;
        }

        /* æŒ‰éˆ• */
        .btn {
            display: inline-block;
            padding: 15px 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            text-decoration: none;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }

        .btn:active {
            transform: translateY(0);
        }

        /* ç¦®åŒ…å¡ç‰‡ */
        .gift-cards {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            margin-top: 30px;
        }

        .gift-card {
            border: 3px solid #eee;
            border-radius: 15px;
            padding: 30px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .gift-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            opacity: 0;
            transition: opacity 0.3s;
        }

        .gift-card:hover {
            border-color: #667eea;
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.2);
        }

        .gift-card:hover::before {
            opacity: 0.05;
        }

        .gift-card h3 {
            font-size: 1.5em;
            margin-bottom: 10px;
            color: #333;
            position: relative;
            z-index: 1;
        }

        .gift-card .target {
            color: #888;
            font-size: 0.9em;
            margin-bottom: 15px;
            position: relative;
            z-index: 1;
        }

        .gift-card .preview {
            color: #666;
            line-height: 1.6;
            position: relative;
            z-index: 1;
        }

        .gift-card .icon {
            font-size: 3em;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }

        /* é€²åº¦æ¢ */
        .progress-bar {
            width: 100%;
            height: 8px;
            background: #eee;
            border-radius: 10px;
            margin: 30px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.5s ease;
            border-radius: 10px;
        }

        .progress-text {
            text-align: center;
            color: #888;
            margin-top: 10px;
            font-size: 0.9em;
        }

        /* æç¤ºè©ç”Ÿæˆå™¨ */
        .prompt-step {
            margin: 30px 0;
        }

        .prompt-step h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .prompt-step .scenario {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 4px solid #667eea;
        }

        .input-group {
            margin: 20px 0;
        }

        .input-group label {
            display: block;
            margin-bottom: 10px;
            color: #666;
            font-weight: 500;
        }

        .input-group input,
        .input-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1em;
            font-family: inherit;
        }

        .input-group textarea {
            min-height: 100px;
            resize: vertical;
        }

        .input-group input:focus,
        .input-group textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .prompt-result {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border: 2px solid #667eea;
            position: relative;
        }

        .prompt-result pre {
            white-space: pre-wrap;
            word-wrap: break-word;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 0.95em;
            line-height: 1.6;
            color: #333;
            margin-top: 40px;
        }

        .copy-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            padding: 8px 20px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9em;
        }

        .copy-btn:hover {
            background: #5568d3;
        }

        .copy-btn.copied {
            background: #4caf50;
        }

        /* Email æ”¶é›† */
        .email-gate {
            text-align: center;
            padding: 40px 20px;
            background: #f8f9fa;
            border-radius: 15px;
            margin: 30px 0;
        }

        .email-gate input[type="email"] {
            width: 100%;
            max-width: 400px;
            padding: 15px;
            font-size: 1.1em;
            border: 2px solid #ddd;
            border-radius: 10px;
            margin: 20px auto;
            display: block;
        }

        .email-gate input[type="email"]:focus {
            outline: none;
            border-color: #667eea;
        }

        /* å®Œæˆé é¢ */
        .completion {
            text-align: center;
        }

        .completion .icon {
            font-size: 5em;
            margin: 20px 0;
        }

        .cta-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
        }

        .cta-box h3 {
            color: white;
            margin-bottom: 15px;
        }

        .cta-box .price {
            font-size: 2em;
            font-weight: bold;
            margin: 15px 0;
        }

        .cta-box .original-price {
            text-decoration: line-through;
            opacity: 0.7;
            font-size: 0.8em;
        }

        .btn-cta {
            background: white;
            color: #667eea;
            padding: 18px 50px;
            font-size: 1.2em;
            margin-top: 20px;
        }

        /* æç¤ºè¨Šæ¯ */
        .hint {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
            color: #856404;
        }

        /* éŸ¿æ‡‰å¼ */
        @media (max-width: 768px) {
            .card {
                padding: 25px;
            }

            h1 {
                font-size: 2em;
            }

            h2 {
                font-size: 1.5em;
            }

            .btn {
                padding: 12px 30px;
                font-size: 1em;
            }
        }

        /* å‹•ç•« */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeIn 0.5s ease;
        }

        .error {
            color: #dc3545;
            text-align: center;
            margin-top: 10px;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        
        <!-- ç¬¬ä¸€æ­¥ï¼šé©—è­‰é é¢ -->
        <div id="verify-page" class="card fade-in">
            <div class="verify-box">
                <h1>ğŸ AI ç™¼è²¡æç¤ºè©ç¦®åŒ…</h1>
                <p class="subtitle">æ„Ÿè¬ä½ åœ¨ Reels ç•™ä¸‹ã€Œæœ‰è¶£ã€!<br>é€™æ˜¯å°ˆå±¬æ–¼ä½ çš„ AI å”ä½œç§˜ç¬ˆ</p>
                
                <input 
                    type="text" 
                    id="access-code" 
                    placeholder="è«‹è¼¸å…¥é€šé—œå¯†èª"
                    maxlength="20"
                    autocomplete="off"
                >
                <div id="verify-error" class="error hidden">å¯†èªéŒ¯èª¤ï¼Œè«‹æª¢æŸ¥ç§è¨Šå…§å®¹</div>
                
                <button class="btn" onclick="verifyAccess()">é€²å…¥ç¦®åŒ…</button>
                
                <div class="hint" style="margin-top: 30px;">
                    ğŸ’¡ æç¤ºï¼šé€šé—œå¯†èªç‚º <strong>CRUZ2025</strong>
                </div>
            </div>
        </div>

        <!-- ç¬¬äºŒæ­¥ï¼šé¸æ“‡ç¦®åŒ… -->
        <div id="select-page" class="card hidden">
            <h1>é¸æ“‡ä½ çš„ç™¼è²¡è·¯ç·š</h1>
            <p class="subtitle">ä¸‰æ¢è·¯ç·šï¼Œå„æœ‰ 3 å€‹å¯¦æˆ°æç¤ºè©ã€‚é¸ä¸€æ¢æœ€é©åˆä½ çš„é–‹å§‹å§!</p>

            <div class="gift-cards">
                <div class="gift-card" onclick="selectGift('efficiency')">
                    <div class="icon">â°</div>
                    <h3>AI æ•ˆç‡æ·˜é‡‘åŒ…</h3>
                    <div class="target">é©åˆï¼šå¿™ç¢Œä¸Šç­æ—ã€å°ˆæ¡ˆç¶“ç†</div>
                    <div class="preview">
                        âœ“ 20 é å ±å‘Šç§’è®Š 3 å¥é‡é»<br>
                        âœ“ æœƒè­°éŒ„éŸ³è‡ªå‹•ç”Ÿæˆè¡Œå‹•æ¸…å–®<br>
                        âœ“ æ‰¾å‡ºæœ€å€¼å¾—è‡ªå‹•åŒ–çš„å·¥ä½œ
                    </div>
                </div>

                <div class="gift-card" onclick="selectGift('content')">
                    <div class="icon">âœï¸</div>
                    <h3>AI å…§å®¹å°éˆ”æ©Ÿ</h3>
                    <div class="target">é©åˆï¼šå‰µä½œè€…ã€è¡ŒéŠ·äººå“¡ã€å°ç·¨</div>
                    <div class="preview">
                        âœ“ èƒå–ä½ çš„å€‹äººå¯«ä½œé¢¨æ ¼<br>
                        âœ“ ä¸€å€‹æƒ³æ³•è®Š 5 å¤©å…§å®¹<br>
                        âœ“ å¿«é€Ÿç”Ÿæˆçˆ†æ¬¾è¦–è¦ºåœ–
                    </div>
                </div>

                <div class="gift-card" onclick="selectGift('decision')">
                    <div class="icon">ğŸ§ </div>
                    <h3>AI æ±ºç­–æ™ºå›Šåœ˜</h3>
                    <div class="target">é©åˆï¼šå‰µæ¥­è€…ã€é«˜éšä¸»ç®¡ã€ç­–ç•¥è¦åŠƒè€…</div>
                    <div class="preview">
                        âœ“ AI é­”é¬¼ä»£è¨€äººå£“åŠ›æ¸¬è©¦<br>
                        âœ“ å¤šè§’è‰²æ±ºç­–åœ“æ¡Œæœƒè­°<br>
                        âœ“ åµå¯Ÿç«¶å“è‡´å‘½å¼±é»
                    </div>
                </div>
            </div>
        </div>

        <!-- ç¬¬ä¸‰æ­¥ï¼šäº’å‹•å¼é«”é©— -->
        <div id="experience-page" class="card hidden">
            <div class="progress-bar">
                <div id="progress-fill" class="progress-fill" style="width: 0%"></div>
            </div>
            <div class="progress-text">å·²å®Œæˆ <span id="progress-num">0</span>/3 å€‹æç¤ºè©</div>

            <h1 id="gift-title">AI æ•ˆç‡æ·˜é‡‘åŒ…</h1>
            <p class="subtitle" id="gift-subtitle">æ™‚é–“å°±æ˜¯é‡‘éŒ¢ï¼Œè®“ AI å¹«ä½ è³¼è²·æ™‚é–“</p>

            <!-- æç¤ºè© 1 -->
            <div id="prompt-1" class="prompt-step">
                <h3>æç¤ºè© 1ï¼š20 é å ±å‘Š â” 3 å¥é‡é»</h3>
                <div class="scenario">
                    <strong>å ´æ™¯ï¼š</strong>è€é—†ä¸Ÿä¾†ä¸€ä»½ 20 é çš„å ±å‘Šï¼Œ10 åˆ†é˜å¾Œå°±è¦é–‹æœƒã€‚
                </div>

                <div class="input-group">
                    <label>ä½ çš„è§’è‰²æ˜¯ï¼Ÿ(ä¾‹å¦‚ï¼šç”¢å“ç¶“ç†ã€è¡ŒéŠ·ä¸»ç®¡)</label>
                    <input type="text" id="input-1-role" placeholder="ç”¢å“ç¶“ç†">
                </div>

                <div class="input-group">
                    <label>ä½ éœ€è¦å¾å ±å‘Šä¸­çœ‹å‡ºä»€éº¼ï¼Ÿ(ä¾‹å¦‚ï¼šå¸‚å ´æ©Ÿæœƒã€é¢¨éšªè©•ä¼°)</label>
                    <input type="text" id="input-1-goal" placeholder="å¸‚å ´æ©Ÿæœƒå’Œæ½›åœ¨é¢¨éšª">
                </div>

                <div class="input-group">
                    <label>è²¼ä¸Šå ±å‘Šå…§å®¹ (å¯ä»¥æ˜¯æ‘˜è¦æˆ–å®Œæ•´å…§å®¹)</label>
                    <textarea id="input-1-content" placeholder="è²¼ä¸Šå ±å‘Šå…§å®¹..."></textarea>
                </div>

                <button class="btn" onclick="generatePrompt(1)">ç”Ÿæˆæˆ‘çš„å°ˆå±¬æç¤ºè©</button>

                <div id="result-1" class="prompt-result hidden">
                    <button class="copy-btn" onclick="copyPrompt(1)">è¤‡è£½</button>
                    <pre id="prompt-1-text"></pre>
                </div>

                <div id="hint-1" class="hint hidden">
                    âœ… æç¤ºè©å·²ç”Ÿæˆ! è¤‡è£½å¾Œå‰å¾€ <a href="https://chatgpt.com" target="_blank" style="color: #667eea; font-weight: bold;">ChatGPT</a> è²¼ä¸Šä½¿ç”¨
                </div>

                <!-- Email Gate (åœ¨ç¬¬ä¸€å€‹æç¤ºè©ç”Ÿæˆå¾Œå‡ºç¾) -->
                <div id="email-gate-1" class="email-gate hidden">
                    <h2>ğŸ‰ æƒ³è§£é–å‰©ä¸‹ 2 å€‹æç¤ºè©ï¼Ÿ</h2>
                    <p class="subtitle">ç•™ä¸‹ emailï¼Œå®Œæ•´ç¦®åŒ…èˆ‡æ—©é³¥å„ªæƒ å°‡ç™¼é€çµ¦ä½ </p>
                    
                    <input 
                        type="email" 
                        id="user-email" 
                        placeholder="your@email.com"
                        required
                    >
                    
                    <button class="btn" onclick="submitEmail()">è§£é–å‰©ä¸‹çš„æç¤ºè©</button>
                    <div id="email-error" class="error hidden">è«‹è¼¸å…¥æœ‰æ•ˆçš„ email</div>
                </div>
            </div>

            <!-- æç¤ºè© 2 -->
            <div id="prompt-2" class="prompt-step hidden">
                <h3>æç¤ºè© 2ï¼šæœƒè­°éŒ„éŸ³ â” è¡Œå‹•æ¸…å–®</h3>
                <div class="scenario">
                    <strong>å ´æ™¯ï¼š</strong>å‰›é–‹å®Œ 1 å°æ™‚çš„è…¦åŠ›æ¿€ç›ªæœƒè­°ï¼Œå…§å®¹é›œäº‚ç„¡ç« ã€‚
                </div>

                <div class="input-group">
                    <label>æœƒè­°ä¸»é¡Œæ˜¯ï¼Ÿ</label>
                    <input type="text" id="input-2-topic" placeholder="Q4 è¡ŒéŠ·ç­–ç•¥è¨è«–">
                </div>

                <div class="input-group">
                    <label>è²¼ä¸Šæœƒè­°é€å­—ç¨¿æˆ–é‡é»è¨˜éŒ„</label>
                    <textarea id="input-2-content" placeholder="è²¼ä¸Šæœƒè­°å…§å®¹..."></textarea>
                </div>

                <button class="btn" onclick="generatePrompt(2)">ç”Ÿæˆæˆ‘çš„å°ˆå±¬æç¤ºè©</button>

                <div id="result-2" class="prompt-result hidden">
                    <button class="copy-btn" onclick="copyPrompt(2)">è¤‡è£½</button>
                    <pre id="prompt-2-text"></pre>
                </div>

                <div id="hint-2" class="hint hidden">
                    âœ… åˆçœä¸‹ 30 åˆ†é˜æ•´ç†æ™‚é–“!
                </div>

                <div id="next-2" class="hidden" style="margin-top: 20px; text-align: center;">
                    <button class="btn" onclick="showPrompt(3)">è§£é–æœ€å¾Œä¸€å€‹æç¤ºè© â†’</button>
                </div>
            </div>

            <!-- æç¤ºè© 3 -->
            <div id="prompt-3" class="prompt-step hidden">
                <h3>æç¤ºè© 3ï¼šå·¥ä½œæµè‡ªå‹•åŒ–å•Ÿç™¼</h3>
                <div class="scenario">
                    <strong>å ´æ™¯ï¼š</strong>æ¯å¤©éƒ½åœ¨åšé‡è¤‡çš„é›œäº‹ï¼Œæƒ³è‡ªå‹•åŒ–å»æ²’é ­ç·’ã€‚
                </div>

                <div class="input-group">
                    <label>ä½ çš„è·ä½æ˜¯ï¼Ÿ</label>
                    <input type="text" id="input-3-role" placeholder="é›»å•†ç‡Ÿé‹å°ˆå“¡">
                </div>

                <div class="input-group">
                    <label>åˆ—å‡ºä½ æ¯å¤©çš„ 3 å€‹é‡è¤‡ä»»å‹™</label>
                    <textarea id="input-3-tasks" placeholder="1. æª¢æŸ¥ 5 å€‹ç«¶å“ç¶²ç«™çš„åƒ¹æ ¼&#10;2. æ•´ç†å®¢æˆ¶è¨‚å–®åˆ° Excel&#10;3. å›è¦†ç›¸ä¼¼çš„å®¢æœå•é¡Œ"></textarea>
                </div>

                <button class="btn" onclick="generatePrompt(3)">ç”Ÿæˆæˆ‘çš„å°ˆå±¬æç¤ºè©</button>

                <div id="result-3" class="prompt-result hidden">
                    <button class="copy-btn" onclick="copyPrompt(3)">è¤‡è£½</button>
                    <pre id="prompt-3-text"></pre>
                </div>

                <div id="hint-3" class="hint hidden">
                    ğŸ¯ é€™å€‹åˆ†æå°‡å¹«ä½ æ‰¾åˆ°æœ€å€¼å¾—æŠ•è³‡çš„è‡ªå‹•åŒ–é …ç›®!
                </div>

                <div id="complete-btn" class="hidden" style="margin-top: 30px; text-align: center;">
                    <button class="btn" onclick="goToCompletion()">æŸ¥çœ‹å®Œæ•´ç¦®åŒ…èˆ‡èª²ç¨‹å„ªæƒ  â†’</button>
                </div>
            </div>
        </div>

        <!-- ç¬¬å››æ­¥ï¼šå®Œæˆé é¢ -->
        <div id="completion-page" class="card hidden">
            <div class="completion">
                <div class="icon">ğŸ‰</div>
                <h1>æ­å–œ!ä½ å·²è§£é–å…¨éƒ¨ 3 å€‹æç¤ºè©</h1>
                <p class="subtitle">å®Œæ•´ç¦®åŒ… PDF å·²ç™¼é€åˆ°ä½ çš„ä¿¡ç®±<br>æ¥ä¸‹ä¾†ï¼Œè¦ä¸è¦å‡ç´šä½ çš„ AI å”ä½œèƒ½åŠ›ï¼Ÿ</p>

                <div class="cta-box">
                    <h3>ğŸš€ äººç”Ÿé§­å®¢æ‰‹å†Šï¼šAI æ™‚ä»£ç”Ÿå­˜æŒ‡å—</h3>
                    <p>å¾ç—›é»åˆ°è‡ªå‹•åŒ–ï¼Œå¾æ€è€ƒåˆ°åŸ·è¡Œ<br>11 é–€èª²ç¨‹ï¼Œæ‰“é€ ä½ çš„ AI ä½œæ¥­ç³»çµ±</p>
                    
                    <div class="price">
                        <span class="original-price">NT$ 9,800</span><br>
                        æ—©é³¥å„ªæƒ  NT$ 4,980
                    </div>
                    
                    <a href="https://thinkercafe.com/courses" class="btn btn-cta">ç«‹å³æŸ¥çœ‹èª²ç¨‹</a>
                </div>

                <div class="hint">
                    ğŸ’¡ é€™å€‹ç¦®åŒ…åªæ˜¯é–‹å§‹ã€‚çœŸæ­£çš„åƒ¹å€¼ï¼Œåœ¨æ–¼å»ºç«‹ä¸€å¥—å±¬æ–¼ä½ è‡ªå·±çš„ AI å”ä½œç³»çµ±ã€‚
                </div>
            </div>
        </div>

    </div>

    <script>
        // ===== ç‹€æ…‹ç®¡ç† =====
        let currentGift = '';
        let userEmail = '';
        let completedPrompts = 0;

        // ===== é©—è­‰é€šé—œå¯†èª =====
        function verifyAccess() {
            const code = document.getElementById('access-code').value.trim().toUpperCase();
            const errorDiv = document.getElementById('verify-error');
            
            if (code === 'CRUZ2025') {
                errorDiv.classList.add('hidden');
                document.getElementById('verify-page').classList.add('hidden');
                document.getElementById('select-page').classList.remove('hidden');
                
                // è¿½è¹¤äº‹ä»¶
                trackEvent('access_verified', { code: code });
            } else {
                errorDiv.classList.remove('hidden');
            }
        }

        // Enter éµä¹Ÿå¯ä»¥é©—è­‰
        document.getElementById('access-code')?.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                verifyAccess();
            }
        });

        // ===== é¸æ“‡ç¦®åŒ… =====
        function selectGift(giftType) {
            currentGift = giftType;
            
            document.getElementById('select-page').classList.add('hidden');
            document.getElementById('experience-page').classList.remove('hidden');
            
            // æ›´æ–°æ¨™é¡Œèˆ‡å‰¯æ¨™é¡Œ
            const titles = {
                'efficiency': {
                    title: 'â° AI æ•ˆç‡æ·˜é‡‘åŒ…',
                    subtitle: 'æ™‚é–“å°±æ˜¯é‡‘éŒ¢ï¼Œè®“ AI å¹«ä½ è³¼è²·æ™‚é–“'
                },
                'content': {
                    title: 'âœï¸ AI å…§å®¹å°éˆ”æ©Ÿ',
                    subtitle: 'å…§å®¹å°±æ˜¯è³‡ç”¢ï¼Œç”¨ AI æ”¾å¤§ä½ çš„å‰µä½œåƒ¹å€¼'
                },
                'decision': {
                    title: 'ğŸ§  AI æ±ºç­–æ™ºå›Šåœ˜',
                    subtitle: 'æ±ºç­–å“è³ªæ±ºå®šè²¡å¯Œï¼Œè®“ AI ç•¶ä½ çš„è»å¸«'
                }
            };
            
            document.getElementById('gift-title').textContent = titles[giftType].title;
            document.getElementById('gift-subtitle').textContent = titles[giftType].subtitle;
            
            // æ ¹æ“šç¦®åŒ…é¡å‹æ›´æ–°æç¤ºè©çš„å ´æ™¯å’Œæ¨™ç±¤
            updatePromptLabels(giftType);
            
            // è¿½è¹¤äº‹ä»¶
            trackEvent('gift_selected', { gift_type: giftType });
        }

        //===== æ›´æ–°æç¤ºè©æ¨™ç±¤ =====
        function updatePromptLabels(giftType) {
            if (giftType === 'content') {
                // æç¤ºè© 1
                document.querySelector('#prompt-1 h3').textContent = 'æç¤ºè© 1ï¼šå€‹äººé¢¨æ ¼èƒå–';
                document.querySelector('#prompt-1 .scenario').innerHTML = '<strong>å ´æ™¯ï¼š</strong>çŸ¥é“è‡ªå·±è¦å¯«ä»€éº¼ï¼Œä½†æ€• AI å¯«å¾—æ²’ã€Œäººå‘³ã€ã€‚';
                document.querySelector('#prompt-1 .input-group:nth-of-type(1) label').textContent = 'è²¼ä¸Šä½ è‡ªå·±å¯«çš„ 2-3 ç¯‡æ–‡ç« ï¼ˆä»»ä½•ä¸»é¡Œéƒ½å¯ä»¥ï¼‰';
                document.querySelector('#prompt-1 .input-group:nth-of-type(1) input').placeholder = 'è²¼ä¸Šæ–‡ç« å…§å®¹...';
                document.querySelector('#prompt-1 .input-group:nth-of-type(2)').style.display = 'none';
                document.querySelector('#prompt-1 .input-group:nth-of-type(3)').style.display = 'none';
                
                // æç¤ºè© 2
                document.querySelector('#prompt-2 h3').textContent = 'æç¤ºè© 2ï¼šä¸€é­šååƒå…§å®¹çŸ©é™£';
                document.querySelector('#prompt-2 .scenario').innerHTML = '<strong>å ´æ™¯ï¼š</strong>å¥½ä¸å®¹æ˜“æƒ³å‡ºä¸€å€‹é»å­ï¼Œä½†ç™¼å®Œæ–‡å°±æ²’äº†ï¼ŒCP å€¼å¾ˆä½ã€‚';
                document.querySelector('#prompt-2 .input-group:nth-of-type(1) label').textContent = 'ä½ çš„æ ¸å¿ƒè§€é»æˆ–æƒ³æ³•æ˜¯ä»€éº¼ï¼Ÿ';
                document.querySelector('#prompt-2 .input-group:nth-of-type(1) input').placeholder = 'ä¾‹å¦‚ï¼šæŠ•è³‡è‡ªå·±ï¼Œæ‰æ˜¯æœ€è³ºçš„';
                document.querySelector('#prompt-2 .input-group:nth-of-type(2)').style.display = 'none';
                
                // æç¤ºè© 3
                document.querySelector('#prompt-3 h3').textContent = 'æç¤ºè© 3ï¼šçˆ†æ¬¾è¦–è¦ºç”Ÿæˆ';
                document.querySelector('#prompt-3 .scenario').innerHTML = '<strong>å ´æ™¯ï¼š</strong>æ–‡æ¡ˆå¯«å¥½äº†ï¼Œä½†ç¼ºä¸€å¼µå¸ç›çš„å°é¢åœ–ã€‚';
                document.querySelector('#prompt-3 .input-group:nth-of-type(1) label').textContent = 'ç™¼å¸ƒå¹³å°æ˜¯ï¼Ÿ';
                document.querySelector('#prompt-3 .input-group:nth-of-type(1) input').placeholder = 'ä¾‹å¦‚ï¼šInstagram è²¼æ–‡';
                document.querySelector('#prompt-3 .input-group:nth-of-type(2) label').textContent = 'åœ–ç‰‡ä¸»é¡Œæ˜¯ä»€éº¼ï¼Ÿ';
                document.querySelector('#prompt-3 .input-group:nth-of-type(2) textarea').placeholder = 'ä¾‹å¦‚ï¼šAI å”ä½œæå‡å·¥ä½œæ•ˆç‡';
                
            } else if (giftType === 'decision') {
                // æç¤ºè© 1
                document.querySelector('#prompt-1 h3').textContent = 'æç¤ºè© 1ï¼šAI é­”é¬¼ä»£è¨€äºº';
                document.querySelector('#prompt-1 .scenario').innerHTML = '<strong>å ´æ™¯ï¼š</strong>ä½ æœ‰ä¸€å€‹çµ•å¦™çš„é»å­ï¼ˆä¾‹å¦‚ï¼šæ–°ç”¢å“ä¼åŠƒï¼‰ï¼Œç”Ÿæ€•æœ‰ç›²é»ã€‚';
                document.querySelector('#prompt-1 .input-group:nth-of-type(1)').style.display = 'none';
                document.querySelector('#prompt-1 .input-group:nth-of-type(2)').style.display = 'none';
                document.querySelector('#prompt-1 .input-group:nth-of-type(3) label').textContent = 'æè¿°ä½ çš„å•†æ¥­è¨ˆç•«æˆ–é‡å¤§æ±ºç­–';
                document.querySelector('#prompt-1 .input-group:nth-of-type(3) textarea').placeholder = 'ä¾‹å¦‚ï¼šæˆ‘æ‰“ç®—é–‹ä¸€å®¶...';
                
                // æç¤ºè© 2
                document.querySelector('#prompt-2 h3').textContent = 'æç¤ºè© 2ï¼šå¤šè§’è‰²æ±ºç­–åœ“æ¡Œ';
                document.querySelector('#prompt-2 .scenario').innerHTML = '<strong>å ´æ™¯ï¼š</strong>é¢è‡¨å…©é›£é¸æ“‡ï¼ˆä¾‹å¦‚ï¼šè©² A æˆ–è©² Bï¼Ÿè©²å‰µæ¥­æˆ–è©²ä¸Šç­ï¼Ÿï¼‰ã€‚';
                document.querySelector('#prompt-2 .input-group:nth-of-type(1)').style.display = 'none';
                document.querySelector('#prompt-2 .input-group:nth-of-type(2) label').textContent = 'ä½ é¢è‡¨çš„å…©é›£å•é¡Œæ˜¯ä»€éº¼ï¼Ÿ';
                document.querySelector('#prompt-2 .input-group:nth-of-type(2) textarea').placeholder = 'æè¿°ä½ çš„å…©é›£è™•å¢ƒ...';
                
                // æç¤ºè© 3
                document.querySelector('#prompt-3 h3').textContent = 'æç¤ºè© 3ï¼šç«¶å“å¼±é»åµå¯Ÿæ©Ÿ';
                document.querySelector('#prompt-3 .scenario').innerHTML = '<strong>å ´æ™¯ï¼š</strong>è¦é€²å…¥ä¸€å€‹æ–°å¸‚å ´ï¼Œæƒ³çŸ¥é“é¾é ­è€å¤§çš„ã€Œé˜¿åŸºé‡Œæ–¯è…±ã€åœ¨å“ªã€‚';
                document.querySelector('#prompt-3 .input-group:nth-of-type(1)').style.display = 'none';
                document.querySelector('#prompt-3 .input-group:nth-of-type(2) label').textContent = 'ä½ çš„ä¸»è¦ç«¶çˆ­å°æ‰‹æ˜¯èª°ï¼Ÿ(è²¼ä¸Šå®˜ç¶²é€£çµæˆ–ç”¢å“ä»‹ç´¹)';
                document.querySelector('#prompt-3 .input-group:nth-of-type(2) textarea').placeholder = 'è²¼ä¸Šç«¶å“çš„å®˜ç¶² URL æˆ–ç”¢å“ä»‹ç´¹...';
            }
        }

        // ===== ç”Ÿæˆæç¤ºè© =====
        function generatePrompt(promptNum) {
            let promptText = '';
            
            if (currentGift === 'efficiency') {
                promptText = generateEfficiencyPrompt(promptNum);
            } else if (currentGift === 'content') {
                promptText = generateContentPrompt(promptNum);
            } else if (currentGift === 'decision') {
                promptText = generateDecisionPrompt(promptNum);
            }
            
            // é¡¯ç¤ºçµæœ
            const resultDiv = document.getElementById(`result-${promptNum}`);
            const promptTextDiv = document.getElementById(`prompt-${promptNum}-text`);
            const hintDiv = document.getElementById(`hint-${promptNum}`);
            
            promptTextDiv.textContent = promptText;
            resultDiv.classList.remove('hidden');
            hintDiv.classList.remove('hidden');
            
            // æ›´æ–°é€²åº¦
            completedPrompts = Math.max(completedPrompts, promptNum);
            updateProgress();
            
            // ç¬¬ä¸€å€‹æç¤ºè©å®Œæˆå¾Œé¡¯ç¤º Email Gate
            if (promptNum === 1) {
                setTimeout(() => {
                    document.getElementById('email-gate-1').classList.remove('hidden');
                    document.getElementById('email-gate-1').scrollIntoView({ 
                        behavior: 'smooth',
                        block: 'center'
                    });
                }, 500);
            }
            
            // ç¬¬äºŒå€‹æç¤ºè©å®Œæˆå¾Œé¡¯ç¤ºã€Œè§£é–ç¬¬ä¸‰å€‹ã€æŒ‰éˆ•
            if (promptNum === 2) {
                setTimeout(() => {
                    document.getElementById('next-2').classList.remove('hidden');
                }, 500);
            }
            
            // ç¬¬ä¸‰å€‹æç¤ºè©å®Œæˆå¾Œé¡¯ç¤ºã€Œå®Œæˆã€æŒ‰éˆ•
            if (promptNum === 3) {
                setTimeout(() => {
                    document.getElementById('complete-btn').classList.remove('hidden');
                }, 500);
            }
            
            // è¿½è¹¤äº‹ä»¶
            trackEvent('prompt_generated', { 
                gift_type: currentGift, 
                prompt_num: promptNum 
            });
        }

        // ===== æ•ˆç‡æ·˜é‡‘åŒ…çš„æç¤ºè©ç”Ÿæˆ =====
        function generateEfficiencyPrompt(promptNum) {
            if (promptNum === 1) {
                const role = document.getElementById('input-1-role').value || 'å°ˆæ¥­å¹•åƒš';
                const goal = document.getElementById('input-1-goal').value || 'æ ¸å¿ƒçµè«–å’Œè¡Œå‹•å»ºè­°';
                const content = document.getElementById('input-1-content').value || '[è«‹åœ¨æ­¤è²¼ä¸Šå ±å‘Šå…§å®¹]';
                
                return `ä½ ç¾åœ¨æ˜¯å°ˆæ¥­çš„ ${role}ï¼Œé€™ä»½åˆ†ææ˜¯çµ¦ã€Œæ²’è€å¿ƒã€åªçœ‹é‡é»ã€çš„è€é—†çœ‹çš„ã€‚

æˆ‘éœ€è¦ä½ æŠ“å‡ºï¼š
1. 3 å€‹æ ¸å¿ƒçµè«–
2. 1 å€‹é¦–è¦è¡Œå‹•å»ºè­°

åˆ†æè§’åº¦ï¼š${goal}

è«‹ç”¨æŠ•è³‡äººçš„è§’åº¦ä¾†åˆ†æï¼Œåªé—œæ³¨ ROI å’Œé¢¨éšªã€‚

æ–‡æœ¬ï¼š
${content}`;
            }
            
            if (promptNum === 2) {
                const topic = document.getElementById('input-2-topic').value || 'æœƒè­°ä¸»é¡Œ';
                const content = document.getElementById('input-2-content').value || '[è«‹åœ¨æ­¤è²¼ä¸Šæœƒè­°é€å­—ç¨¿]';
                
                return `ä½ æ˜¯ä¸€åè³‡æ·±å°ˆæ¡ˆç¶“ç†ã€‚é€™æ˜¯ä¸€ä»½ã€Œ${topic}ã€çš„æœƒè­°é€å­—ç¨¿ã€‚

è«‹å¹«æˆ‘ï¼š
1. **æ‘˜è¦ï¼š** ç”¨ 3 å¥è©±ç¸½çµæœƒè­°æ ¸å¿ƒ
2. **æ±ºè­°äº‹é …ï¼š** åˆ—å‡ºæ‰€æœ‰å·²é”æˆçš„å…±è­˜
3. **è¡Œå‹•æ¸…å–® (To-Do List)ï¼š** æ ¼å¼ç‚ºã€Œ[ä»»å‹™] - [è² è²¬äºº] - [æˆªæ­¢æ—¥æœŸ]ã€

é€å­—ç¨¿ï¼š
${content}`;
            }
            
            if (promptNum === 3) {
                const role = document.getElementById('input-3-role').value || 'ä½ çš„è·ä½';
                const tasks = document.getElementById('input-3-tasks').value || '[åˆ—å‡ºä½ çš„é‡è¤‡ä»»å‹™]';
                
                return `æˆ‘æ˜¯ä¸€å ${role}ï¼Œæˆ‘æ¯å¤©çš„é‡è¤‡ä»»å‹™æœ‰ï¼š

${tasks}

è«‹æ“”ä»» AI è‡ªå‹•åŒ–é¡§å•ï¼Œåˆ†æä¸Šè¿°ä»»å‹™ï¼š
1. å“ªä¸€é …æœ€é©åˆç”¨ AI è‡ªå‹•åŒ–ï¼Ÿ
2. ç‚ºä»€éº¼ï¼Ÿï¼ˆROI æœ€é«˜ã€æœ€å®¹æ˜“å¯¦ç¾ï¼Ÿï¼‰
3. è¦å¯¦ç¾é€™å€‹è‡ªå‹•åŒ–ï¼Œæˆ‘çš„ç¬¬ä¸€æ­¥è©²åšä»€éº¼ï¼Ÿ

è«‹çµ¦æˆ‘å…·é«”çš„è¡Œå‹•å»ºè­°ï¼Œè€Œä¸æ˜¯ç©ºæ³›çš„æ¦‚å¿µã€‚`;
            }
        }

        // ===== å…§å®¹å°éˆ”æ©Ÿçš„æç¤ºè©ç”Ÿæˆ =====
        function generateContentPrompt(promptNum) {
            if (promptNum === 1) {
                const articles = document.getElementById('input-1-role').value || '[è«‹è²¼ä¸Šä½ çš„æ–‡ç« å…§å®¹]';
                
                return `ä½ æ˜¯ä¸€åæ–‡æ¡ˆé¢¨æ ¼åˆ†æå¸«ã€‚è«‹åˆ†æä»¥ä¸‹æˆ‘å¯«çš„æ–‡ç« ï¼Œæ‰¾å‡ºæˆ‘çš„ã€Œå¯«ä½œé¢¨æ ¼ DNAã€ï¼š

${articles}

è«‹ç¸½çµæˆ‘çš„é¢¨æ ¼ç‰¹å¾µï¼š
1. èªæ°£ç‰¹è‰²ï¼ˆä¾‹å¦‚ï¼šå¹½é»˜ã€åš´è‚…ã€è¦ªåˆ‡ã€å°ˆæ¥­ï¼‰
2. å¸¸ç”¨è©å½™æˆ–å£é ­ç¦ª
3. å¥å­çµæ§‹åå¥½ï¼ˆé•·å¥/çŸ­å¥ã€ä¿®è¾­æ‰‹æ³•ï¼‰
4. æ ¸å¿ƒåƒ¹å€¼è§€æˆ–ç«‹å ´

ç„¶å¾Œï¼Œç”¨ã€Œæˆ‘çš„é¢¨æ ¼ã€å¯«ä¸€æ®µé—œæ–¼ [æ–°ä¸»é¡Œï¼šè«‹å¡«å…¥ä½ æƒ³å¯«çš„ä¸»é¡Œ] çš„ 300 å­—é–‹å ´ç™½ã€‚`;
            }
            
            if (promptNum === 2) {
                const topic = document.getElementById('input-2-topic').value || 'æŠ•è³‡è‡ªå·±ï¼Œæ‰æ˜¯æœ€è³ºçš„';
                
                return `æˆ‘æœ‰ä¸€å€‹æ ¸å¿ƒè§€é»ï¼š${topic}

è«‹å°‡é€™å€‹è§€é»ï¼Œæ“´å±•æˆä¸€å€‹ã€Œä¸€é€±å…§å®¹ç™¼ä½ˆè¨ˆç•«ã€ï¼š

**é€±ä¸€ (é•·æ–‡)ï¼š** æ·±åº¦åˆ†ææ–‡ (800-1000 å­—)
- æ¨™é¡Œ + é–‹å ´ + 3 å€‹è«–é» + è¡Œå‹•å‘¼ç±²

**é€±äºŒ (çŸ­å½±éŸ³)ï¼š** 20 ç§’çŸ­å½±ç‰‡è…³æœ¬
- é–‹å ´æŒ‘é‡ + æ ¸å¿ƒé‡‘å¥ + åè½‰çµå°¾

**é€±ä¸‰ (åœ–æ–‡)ï¼š** 3 å¼µ IG åœ–å¡å…§å®¹
- æ¯å¼µåœ–çš„æ¨™é¡Œ + æ ¸å¿ƒå…§æ–‡

**é€±å›› (äº’å‹•)ï¼š** FB æå•è²¼æ–‡
- å¼•ç™¼è¨è«–çš„é–‹æ”¾å¼å•é¡Œ

**é€±äº” (ç¸½çµ)ï¼š** Email é›»å­å ± (çµ¦è¨‚é–±è€…)
- æœ¬é€±ç²¾è¯ + ä¸‹é€±é å‘Š

è«‹ç›´æ¥æä¾›å¯è¤‡è£½ä½¿ç”¨çš„æ–‡æ¡ˆå…§å®¹ã€‚`;
            }
            
            if (promptNum === 3) {
                const platform = document.getElementById('input-3-role').value || 'Instagram è²¼æ–‡';
                const theme = document.getElementById('input-3-tasks').value || 'AI å”ä½œæå‡å·¥ä½œæ•ˆç‡';
                
                return `æˆ‘éœ€è¦ä¸€å¼µç”¨æ–¼ ${platform} çš„åœ–ç‰‡ï¼Œä¸»é¡Œæ˜¯ã€Œ${theme}ã€ã€‚

è¦æ±‚ï¼š
1. **é¢¨æ ¼ï¼š** ç§‘æŠ€æ„Ÿã€å°ˆæ¥­ã€ç¾ä»£ç°¡ç´„
2. **è¦–è¦ºå…ƒç´ ï¼š** è«‹åˆ—å‡º 5 å€‹é©åˆçš„è¦–è¦ºç¬¦è™Ÿæˆ–ç‰©ä»¶
3. **è‰²èª¿ï¼š** å»ºè­° 3 ç¨®ä¸»è‰²èª¿çµ„åˆ
4. **æ§‹åœ–ï¼š** æè¿°ç•«é¢å¸ƒå±€å’Œç„¦é»

è«‹çµ¦æˆ‘ 3 å€‹ä¸åŒé¢¨æ ¼çš„ Midjourney æˆ– DALL-E æç¤ºè©ï¼Œæ¯å€‹æç¤ºè©è¦ï¼š
- å®Œæ•´å¯ç›´æ¥ä½¿ç”¨
- åŒ…å«é¢¨æ ¼ã€å…ƒç´ ã€è‰²èª¿ã€æ§‹åœ–
- é©åˆ ${platform} çš„å°ºå¯¸æ¯”ä¾‹`;
            }
        }

        // ===== æ±ºç­–æ™ºå›Šåœ˜çš„æç¤ºè©ç”Ÿæˆ =====
        function generateDecisionPrompt(promptNum) {
            if (promptNum === 1) {
                const plan = document.getElementById('input-1-content').value || '[è«‹æè¿°ä½ çš„å•†æ¥­è¨ˆç•«æˆ–é‡å¤§æ±ºç­–]';
                
                return `æˆ‘æœ‰ä¸€å€‹å•†æ¥­è¨ˆç•«ï¼ˆæˆ–é‡å¤§æ±ºç­–ï¼‰ï¼š

${plan}

ä½ ç¾åœ¨æ‰®æ¼”ã€Œé­”é¬¼ä»£è¨€äººã€ï¼Œä½ çš„ä»»å‹™æ˜¯ç«™åœ¨æœ€åš´å²ã€æœ€æŒ‘å‰”çš„åæ–¹ç«‹å ´ï¼Œæ‰¾å‡ºé€™å€‹è¨ˆç•«ä¸­ï¼š

1. **3 å€‹æœ€è‡´å‘½çš„ç¼ºé™·æˆ–æœªç¶“è­‰å¯¦çš„å‡è¨­**
2. **æ¯å€‹ç¼ºé™·å¯èƒ½å°è‡´çš„æœ€å£æƒ…æ³**
3. **æˆ‘éœ€è¦æº–å‚™ä»€éº¼æ•¸æ“šæˆ–è­‰æ“šä¾†åé§ä½ çš„è³ªç–‘**

ä½ çš„åˆ†æå¿…é ˆå°–éŠ³ã€ä¸ç•™æƒ…é¢ï¼Œå°±åƒä¸€å€‹æƒ³è®“æˆ‘ç ´ç”¢çš„ç«¶çˆ­å°æ‰‹ã€‚ä¸è¦å®¢æ°£ï¼Œç›´æ¥é–‹ç ²ã€‚`;
            }
            
            if (promptNum === 2) {
                const dilemma = document.getElementById('input-2-content').value || '[æè¿°ä½ çš„å…©é›£å•é¡Œ]';
                
                return `æˆ‘æ­£åœ¨é¢è‡¨ä¸€å€‹é‡å¤§æ±ºç­–ï¼š

${dilemma}

è«‹ä½ å¬é–‹ä¸€å ´æ±ºç­–åœ“æ¡Œæœƒè­°ï¼Œä¸¦æ‰®æ¼”ä»¥ä¸‹ 3 å€‹è§’è‰²ï¼Œåˆ†åˆ¥çµ¦å‡ºä»–å€‘çš„è§€é»ï¼š

**è§’è‰² 1 - CFO (ä¿å®ˆæ´¾è²¡å‹™é•·)ï¼š**
- åªé—œæ³¨é¢¨éšªèˆ‡ç¾é‡‘æµ
- åˆ†ææœ€å£æƒ…æ³å’Œæ‡‰å°æ–¹æ¡ˆ
- çµ¦å‡ºè²¡å‹™å»ºè­°

**è§’è‰² 2 - CMO (æ¿€é€²æ´¾è¡ŒéŠ·é•·)ï¼š**
- åªé—œæ³¨å¸‚å ´æ©Ÿæœƒèˆ‡å¢é•·æ½›åŠ›
- åˆ†æç«¶çˆ­å„ªå‹¢å’Œæ™‚æ©Ÿ
- çµ¦å‡ºå¸‚å ´å»ºè­°

**è§’è‰² 3 - COO (å‹™å¯¦æ´¾ç‡Ÿé‹é•·)ï¼š**
- åªé—œæ³¨åŸ·è¡Œå¯è¡Œæ€§å’Œè³‡æºé…ç½®
- åˆ†æå¯¦éš›æ“ä½œçš„é›£é»
- çµ¦å‡ºåŸ·è¡Œå»ºè­°

æœ€å¾Œï¼Œè«‹ä½ ç¸½çµé€™ä¸‰æ–¹æ„è¦‹ï¼Œçµ¦æˆ‘ä¸€å€‹ç¶œåˆæ€§çš„æ±ºç­–å»ºè­°ã€‚`;
            }
            
            if (promptNum === 3) {
                const competitor = document.getElementById('input-3-tasks').value || '[ç«¶çˆ­å°æ‰‹çš„ç”¢å“æˆ–æœå‹™æè¿°]';
                
                return `ä½ æ˜¯ä¸€åé ‚å°–çš„å¸‚å ´æƒ…å ±åˆ†æå¸«ã€‚

é€™æ˜¯æˆ‘çš„ä¸»è¦ç«¶çˆ­å°æ‰‹ï¼š
${competitor}

è«‹åˆ†æä»–å€‘çš„å…¬é–‹è³‡æ–™ï¼ˆå®˜ç¶²ã€ç”¢å“èªªæ˜ã€å®¢æˆ¶è©•åƒ¹ï¼‰ï¼Œæ‰¾å‡ºï¼š

1. **3 å€‹ä»–å€‘ã€Œåˆ»æ„ä¸æã€çš„ç’°ç¯€**
   - ç‚ºä»€éº¼ä»–å€‘é¿è€Œä¸è«‡ï¼Ÿ
   - é€™ä»£è¡¨ä»€éº¼å¼±é»ï¼Ÿ

2. **3 å€‹ä»–å€‘ã€Œè«–è¿°è–„å¼±ã€çš„è³£é»**
   - å“ªäº›åŠŸèƒ½æˆ–æœå‹™åªæ˜¯é»åˆ°ç‚ºæ­¢ï¼Ÿ
   - èƒŒå¾Œå¯èƒ½çš„åŸå› æ˜¯ä»€éº¼ï¼Ÿ

3. **æˆ‘çš„å¸‚å ´åˆ‡å…¥ç­–ç•¥**
   - åŸºæ–¼ä¸Šè¿°å¼±é»ï¼Œæˆ‘æ‡‰è©²å¦‚ä½•å®šä½ï¼Ÿ
   - çµ¦æˆ‘ 3 å€‹å…·é«”çš„å·®ç•°åŒ–æ–¹å‘

é€™äº›ã€Œç ´å£ã€å°±æ˜¯æˆ‘åˆ‡å…¥å¸‚å ´çš„æœ€ä½³æ©Ÿæœƒã€‚`;
            }
        }

        // ===== è¤‡è£½æç¤ºè© =====
        function copyPrompt(promptNum) {
            const promptText = document.getElementById(`prompt-${promptNum}-text`).textContent;
            const btn = event.target;
            
            navigator.clipboard.writeText(promptText).then(() => {
                const originalText = btn.textContent;
                btn.textContent = 'å·²è¤‡è£½!';
                btn.classList.add('copied');
                
                setTimeout(() => {
                    btn.textContent = originalText;
                    btn.classList.remove('copied');
                }, 2000);
                
                // è¿½è¹¤äº‹ä»¶
                trackEvent('prompt_copied', { 
                    gift_type: currentGift, 
                    prompt_num: promptNum 
                });
            });
        }

        // ===== æäº¤ Email =====
        function submitEmail() {
            const email = document.getElementById('user-email').value.trim();
            const errorDiv = document.getElementById('email-error');
            
            // ç°¡å–®çš„ email é©—è­‰
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            
            if (!emailRegex.test(email)) {
                errorDiv.classList.remove('hidden');
                return;
            }
            
            errorDiv.classList.add('hidden');
            userEmail = email;
            
            // éš±è— Email Gateï¼Œé¡¯ç¤ºç¬¬äºŒå€‹æç¤ºè©
            document.getElementById('email-gate-1').classList.add('hidden');
            showPrompt(2);
            
            // æäº¤åˆ°å¾Œç«¯
            submitToBackend(email);
            
            // è¿½è¹¤äº‹ä»¶
            trackEvent('email_submitted', { 
                email: email,
                gift_type: currentGift,
                completed_prompts: completedPrompts
            });
        }

        // Email è¼¸å…¥æ¡†çš„ Enter éµæ”¯æ´
        document.getElementById('user-email')?.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                submitEmail();
            }
        });

        // ===== é¡¯ç¤ºä¸‹ä¸€å€‹æç¤ºè© =====
        function showPrompt(promptNum) {
            document.getElementById(`prompt-${promptNum}`).classList.remove('hidden');
            
            // æ»¾å‹•åˆ°è©²æç¤ºè©
            setTimeout(() => {
                document.getElementById(`prompt-${promptNum}`).scrollIntoView({ 
                    behavior: 'smooth',
                    block: 'start'
                });
            }, 100);
        }

        // ===== æ›´æ–°é€²åº¦æ¢ =====
        function updateProgress() {
            const percentage = (completedPrompts / 3) * 100;
            document.getElementById('progress-fill').style.width = percentage + '%';
            document.getElementById('progress-num').textContent = completedPrompts;
        }

        // ===== é¡¯ç¤ºå®Œæˆé é¢ =====
        function goToCompletion() {
            document.getElementById('experience-page').classList.add('hidden');
            document.getElementById('completion-page').classList.remove('hidden');
            
            // æ»¾å‹•åˆ°é ‚éƒ¨
            window.scrollTo({ top: 0, behavior: 'smooth' });
            
            // è¿½è¹¤äº‹ä»¶
            trackEvent('all_prompts_completed', { 
                gift_type: currentGift,
                email: userEmail
            });
        }

        // ===== å¾Œç«¯æäº¤ (Supabase ç¯„ä¾‹) =====
        async function submitToBackend(email) {
            const data = {
                email: email,
                gift_type: currentGift,
                completed_prompts: completedPrompts,
                timestamp: new Date().toISOString(),
                source: 'reels_2025_01'
            };
            
            console.log('æäº¤æ•¸æ“š:', data);
            
            // TODO: å¯¦éš›å¯¦ä½œæ™‚å–æ¶ˆè¨»è§£ä¸¦å¡«å…¥ä½ çš„ Supabase è³‡è¨Š
            /*
            try {
                const response = await fetch('YOUR_SUPABASE_URL/rest/v1/gift_leads', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'apikey': 'YOUR_API_KEY',
                        'Authorization': 'Bearer YOUR_API_KEY'
                    },
                    body: JSON.stringify(data)
                });
                
                if (response.ok) {
                    console.log('Email æäº¤æˆåŠŸ');
                } else {
                    console.error('Email æäº¤å¤±æ•—');
                }
            } catch (error) {
                console.error('æäº¤éŒ¯èª¤:', error);
            }
            */
        }

        // ===== äº‹ä»¶è¿½è¹¤ =====
        function trackEvent(eventName, data) {
            console.log('è¿½è¹¤äº‹ä»¶:', eventName, data);
            
            // Google Analytics 4 è¿½è¹¤
            if (typeof gtag !== 'undefined') {
                gtag('event', eventName, data);
            }
            
            // ä¹Ÿå¯ä»¥ç™¼é€åˆ°ä½ è‡ªå·±çš„å¾Œç«¯
            // fetch('/api/track', { method: 'POST', body: JSON.stringify({ event: eventName, data }) });
        }

        // ===== é é¢è¼‰å…¥å®Œæˆ =====
        window.addEventListener('load', function() {
            trackEvent('page_loaded', { 
                timestamp: new Date().toISOString(),
                referrer: document.referrer
            });
        });

        // ===== é›¢é–‹é é¢è¿½è¹¤ =====
        window.addEventListener('beforeunload', function() {
            if (completedPrompts > 0 && !userEmail) {
                // ç”¨æˆ¶ç”Ÿæˆäº†æç¤ºè©ä½†æ²’ç•™ email
                trackEvent('exit_without_email', {
                    gift_type: currentGift,
                    completed_prompts: completedPrompts
                });
            }
        });
    </script>
</body>
</html>